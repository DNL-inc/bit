nohup: ignoring input
2020-12-03 08:27:59,131 (util.py:75 WorkerThread1) ERROR - TeleBot: "IntegrityError occurred, args=('(psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1276, in _execute_context
    self.dialect.do_execute(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 593, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 94, in handler_calls
    admin_panel.callback_handler(call)
  File "/home/ubuntu/bit/src/admin.py", line 682, in callback_handler
    self.manage_admin.callback_handler(call)
  File "/home/ubuntu/bit/src/admin.py", line 602, in callback_handler
    self.create_admin(call)
  File "/home/ubuntu/bit/src/admin.py", line 651, in create_admin
    res = add_admin(data)
  File "/home/ubuntu/bit/src/models/base.py", line 282, in add_admin
    session.commit()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1042, in commit
    self.transaction.commit()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 504, in commit
    self._prepare_impl()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 483, in _prepare_impl
    self.session.flush()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2536, in flush
    self._flush(objects)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2678, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/util/langhelpers.py", line 68, in __exit__
    compat.raise_(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 182, in raise_
    raise exception
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 2638, in _flush
    flush_context.execute()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 422, in execute
    rec.execute(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/unitofwork.py", line 586, in execute
    persistence.save_obj(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 239, in save_obj
    _emit_insert_statements(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/persistence.py", line 1135, in _emit_insert_statements
    result = cached_connections[connection].execute(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1011, in execute
    return meth(self, multiparams, params)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/sql/elements.py", line 298, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1124, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1316, in _execute_context
    self._handle_dbapi_exception(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1510, in _handle_dbapi_exception
    util.raise_(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/util/compat.py", line 182, in raise_
    raise exception
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/base.py", line 1276, in _execute_context
    self.dialect.do_execute(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/engine/default.py", line 593, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj)
"
2020-12-03 08:28:00,252 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 94, in handler_calls
    admin_panel.callback_handler(call)
  File "/home/ubuntu/bit/src/admin.py", line 682, in callback_handler
    self.manage_admin.callback_handler(call)
  File "/home/ubuntu/bit/src/admin.py", line 602, in callback_handler
    self.create_admin(call)
  File "/home/ubuntu/bit/src/admin.py", line 651, in create_admin
    res = add_admin(data)
  File "/home/ubuntu/bit/src/models/base.py", line 275, in add_admin
    user = session.query(User).filter(User.id == data['user_id']).first()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3429, in first
    ret = list(self[0:1])
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3203, in __getitem__
    return list(res)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:28:02,883 (util.py:75 WorkerThread1) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 80, in response_menu
    group_panel.choose_fac(message)
  File "/home/ubuntu/bit/src/group.py", line 47, in choose_fac
    message.from_user.id, "Выберите факультет:", reply_markup=faculties_markup())
  File "/home/ubuntu/bit/src/group.py", line 9, in faculties_markup
    faculites = session.query(Faculty).all()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3373, in all
    return list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:28:10,070 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 53, in start
    register_user(message)
  File "/home/ubuntu/bit/src/models/base.py", line 157, in register_user
    is_admin = is_admin_bool(message)
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:28:38,009 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 53, in start
    register_user(message)
  File "/home/ubuntu/bit/src/models/base.py", line 157, in register_user
    is_admin = is_admin_bool(message)
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:28:53,248 (util.py:75 WorkerThread1) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 53, in start
    register_user(message)
  File "/home/ubuntu/bit/src/models/base.py", line 157, in register_user
    is_admin = is_admin_bool(message)
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:28:55,744 (util.py:75 WorkerThread1) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 70, in show_main_menu
    menu(message)
  File "bot.py", line 45, in menu
    if is_admin_bool(message):
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:28:58,001 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 70, in show_main_menu
    menu(message)
  File "bot.py", line 45, in menu
    if is_admin_bool(message):
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:29:03,407 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 80, in response_menu
    group_panel.choose_fac(message)
  File "/home/ubuntu/bit/src/group.py", line 47, in choose_fac
    message.from_user.id, "Выберите факультет:", reply_markup=faculties_markup())
  File "/home/ubuntu/bit/src/group.py", line 9, in faculties_markup
    faculites = session.query(Faculty).all()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3373, in all
    return list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:29:10,103 (util.py:75 WorkerThread1) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 70, in show_main_menu
    menu(message)
  File "bot.py", line 45, in menu
    if is_admin_bool(message):
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:29:12,179 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 53, in start
    register_user(message)
  File "/home/ubuntu/bit/src/models/base.py", line 157, in register_user
    is_admin = is_admin_bool(message)
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:29:12,955 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 70, in show_main_menu
    menu(message)
  File "bot.py", line 45, in menu
    if is_admin_bool(message):
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
2020-12-03 08:29:13,098 (util.py:75 WorkerThread2) ERROR - TeleBot: "InvalidRequestError occurred, args=('This Session\'s transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"\nDETAIL:  Key (id)=(2) already exists.\n\n[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]\n[parameters: {\'tele_id\': 413102955, \'group\': \'2\', \'is_supreme\': None}]\n(Background on this error at: http://sqlalche.me/e/13/gkpj)',)
Traceback (most recent call last):
  File "/home/ubuntu/.local/lib/python3.8/site-packages/telebot/util.py", line 69, in run
    task(*args, **kwargs)
  File "bot.py", line 53, in start
    register_user(message)
  File "/home/ubuntu/bit/src/models/base.py", line 157, in register_user
    is_admin = is_admin_bool(message)
  File "/home/ubuntu/bit/src/models/base.py", line 146, in is_admin_bool
    if session.query(exists().where(Admin.tele_id == message.from_user.id)).scalar():
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3523, in scalar
    ret = self.one()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3490, in one
    ret = self.one_or_none()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3459, in one_or_none
    ret = list(self)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3535, in __iter__
    return self._execute_and_instances(context)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3556, in _execute_and_instances
    conn = self._get_bind_args(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3571, in _get_bind_args
    return fn(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/query.py", line 3550, in _connection_from_session
    conn = self.session.connection(**kw)
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1138, in connection
    return self._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 1146, in _connection_for_bind
    return self.transaction._connection_for_bind(
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 409, in _connection_for_bind
    self._assert_active()
  File "/home/ubuntu/.local/lib/python3.8/site-packages/sqlalchemy/orm/session.py", line 289, in _assert_active
    raise sa_exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "admins_pkey"
DETAIL:  Key (id)=(2) already exists.

[SQL: INSERT INTO admins (tele_id, "group", is_supreme) VALUES (%(tele_id)s, %(group)s, %(is_supreme)s) RETURNING admins.id]
[parameters: {'tele_id': 413102955, 'group': '2', 'is_supreme': None}]
(Background on this error at: http://sqlalche.me/e/13/gkpj) (Background on this error at: http://sqlalche.me/e/13/7s2a)
"
